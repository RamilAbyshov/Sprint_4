# Sprint_4 Юнит-тестирование

В данном проекте было выполнено задание для практики изученных за спринт основ юнит-тестирования и начала углубления в автоматизацию

* Основы юнит-тестов и Pytest
* Ассерты
* Параметризация
* Фикстуры
* Оценка покрытия


В проекте предстояло покрыть тестами приложение `BooksCollector`. Оно позволяет установить жанр книг и добавить их в избранное.
Класс `BooksCollector` содержит:

* Словарь `books_genre`, куда можно добавить пару Название книги: Жанр книги.
* Список `favorites`, который содержит избранные книги.
* Список `genre`, который содержит доступные жанры.
* Список `genre_age_rating`, который содержит жанры с возрастным рейтингом.
* Набор методов для работы со словарем `books_genre` и списком `favorites`:
  - `add_new_book` — добавляет новую книгу в словарь без указания жанра. Название книги может содержать максимум 40 символов. Одну и ту же книгу можно добавить только один раз.
  - `set_book_genre` — устанавливает жанр книги, если книга есть в books_genreи её жанр входит в списокgenre.
  - `get_book_genre` — выводит жанр книги по её имени.
  - `get_books_with_specific_genre` — выводит список книг с определённым жанром.
  - `get_books_genre` — выводит текущий словарь books_genre.
  - `get_books_for_children` —  возвращает книги, которые подходят детям. У жанра книги не должно быть возрастного рейтинга.
  - `add_book_in_favorites` — добавляет книгу в избранное. Книга должна находиться в словаре books_genre. Повторно добавить книгу в избранное нельзя.
  - `delete_book_from_favorites` — удаляет книгу из избранного, если она там есть.
  - `get_list_of_favorites_books` — получает список избранных книг.


## Реализованные тесты для приложения BooksCollector

| №  | Название теста                                             | Описание                                                                                   |
|-----|------------------------------------------------------------|--------------------------------------------------------------------------------------------|
| 1   | `test_add_new_book_add_two_books`                          | Проверяет добавление двух разных книг и их наличие в коллекции.                            |
| 2   | `test_add_new_book_various_names`                          | Проверяет добавление книги с разными названиями: корректными, пустыми и слишком длинными.  |
| 3   | `test_new_book_has_empty_genre`                            | Проверяет, что у только что добавленной книги жанр не установлен (пустая строка).          |
| 4   | `test_set_book_genre_for_existing_book`                    | Проверяет успешную установку жанра для существующей книги.                                |
| 5   | `test_set_book_genre_for_nonexistent_book`                 | Проверяет, что жанр не устанавливается для книги, если она отсутствует в коллекции.              |
| 6   | `test_set_book_genre_invalid_genre`                        | Проверяет, что нельзя установить жанр, отсутствующий в списке жанров.         |
| 7   | `test_get_books_with_specific_genre_returns_correct_list`  | Проверяет, что метод возвращает список книг с заданным жанром.                             |
| 8   | `test_get_books_with_specific_genre_empty_for_unknown_genre` | Проверяет, что для неизвестного жанра возвращается пустой список.                          |
| 9   | `test_get_books_genre_returns_correct_dict`                | Проверяет, что возвращается полный словарь книг с жанрами.                               |
| 10  | `test_get_books_for_children_includes_only_allowed_genres` | Проверяет, что в список детских книг попадают только книги без возрастных ограничений.    |
| 11  | `test_get_books_for_children_excludes_horror_and_detective` | Проверяет, что книги с возрастным рейтингом (ужасы, детективы) исключены из детских книг. |
| 12  | `test_add_book_in_favorites_success`                       | Проверяет успешное добавление книги из коллекции в избранное.                             |
| 13  | `test_add_book_in_favorites_nonexistent_book`              | Проверяет, что нельзя добавить в избранное книгу, отсутствующую в коллекции.              |
| 14  | `test_add_book_in_favorites_no_duplicates`                 | Проверяет, что одна и та же книга не добавляется в избранное дважды.                      |
| 15  | `test_delete_book_from_favorites_success`                  | Проверяет успешное удаление книги из избранного.                                          |
| 16  | `test_delete_book_from_favorites_nonexistent_book`         | Проверяет, что удаление несуществующей книги из избранного не вызывает ошибок.            |
| 17  | `test_get_list_of_favorites_books_returns_correct_list`    | Проверяет, что возвращается корректный список избранных книг.                             |


В файле conftest.py определена фикстура collector, которая возвращает новый экземпляр класса BooksCollector.
